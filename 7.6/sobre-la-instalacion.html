<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>2. Sobre la instalación</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="La distribución Aprendiendo de Jesús de OpenBSD como Sistema de Escritorio"><link rel="up" href="index.html" title="La distribución Aprendiendo de Jesús de OpenBSD como Sistema de Escritorio"><link rel="prev" href="index.html" title="La distribución Aprendiendo de Jesús de OpenBSD como Sistema de Escritorio"><link rel="next" href="interprete_de_ordenes.html" title="3. Interprete de órdenes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Sobre la instalación</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="interprete_de_ordenes.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sobre-la-instalacion"></a>2. Sobre la instalación</h2></div></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="prerequisitos-para-la-instalacion"></a>2.1. Prerequisitos para la instalación</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>
          Un computador con procesador de 64 bits de la familia x86 (hay
          imágenes de versiones anteriores a la 4.9 para procesadores de
          32 bits).
        </p></li><li><p>
          Componentes básicos para la instalación en un medio que pueda
          acceder. Es decir en uno de los siguientes:
        </p><div class="itemizedlist"><ul type="disc"><li><p>
              USB: Puede descargar una imagen de
              <a href="https://adJ.pasosdeJesus.org/pub/AprendiendoDeJesus" target="_top">https://adJ.pasosdeJesus.org/pub/AprendiendoDeJesus</a>
              por ejemplo con el programa <code class="literal">ftp</code> de
              OpenBSD:
            </p><pre class="programlisting">
    ftp -C https://adJ.pasosdeJesus.org/pub/AprendiendoDeJesus/AprendiendoDeJesus7.6-amd64.usb
</pre><p>
              o bien con el programa <code class="literal">wget</code>:
            </p><pre class="programlisting">
    wget -c https://adJ.pasosdeJesus.org/pub/AprendiendoDeJesus/AprendiendoDeJesus7.6-amd64.usb
</pre><p>
              Usando estas formas podrá reanudar la transferencia en
              caso de que se interrumpa. Otra posibilidad que tiene que
              puede acelerar la descarga, pero sin posibilidad de
              reanudar en caso de que se interrumpa, es emplear el
              programa <code class="literal">rsync</code>:
            </p><pre class="programlisting">
    rsync -vz rsync://ftp.pasosdeJesus.org/AprendiendoDeJesus/AprendiendoDeJesus7.6-amd64.usb .
</pre><p>
              Note que hay un punto al final, que indica que el destino
              de la copia es el directorio actual. Si desea ver que
              otros archivos hay en el mismo directorio de esa imagen
              ISO utilice:
            </p><pre class="programlisting">
    rsync -vz rsync://ftp.pasosdeJesus.org/AprendiendoDeJesus/
</pre><p>
              Utilice la imagen descargada para grabarla en una memoria
              USB y arrancar con esta. Para grabar la imagen en una
              memoria desde adJ o desde Linux utilice
              <code class="literal">dd</code>. Si por ejemplo en adJ la USB es
              <code class="literal">/dev/sd2c</code> (verifique dispositivo con
              <code class="literal">dmesg</code> y remplace):
            </p><pre class="programlisting">
    doas dd if=AprendiendoDeJesus-7.6-amd64.usb of=/dev/sd2c bs=1M
</pre><p>
              Este proceso puede ser demorado, puede ver el progreso con
            </p><pre class="programlisting">
    doas pkill -SIGINFO dd
</pre></li><li><p>
              Imagen CDROM. Aunque con esta no podrá instalar en modo
              UEFI, sino únicamente en modo CSM (que desde varias
              configuraciones UEFI se llama modo
              <span class="emphasis"><em>Legacy</em></span>). También la encuentra en
              <a href="https://adJ.pasosdeJesus.org/pub/AprendiendoDeJesus" target="_top">https://adJ.pasosdeJesus.org/pub/AprendiendoDeJesus</a>
              y puede quemarla en un DVD con algún programa que soporte
              quemar imágenes ISO de otros sistemas operativos (por
              ejemplo con Brasero desde Linux).
            </p></li><li><p>
              O bien partición ext2 (de Linux), ffs (de OpenBSD) o FAT
              (de DOS y Windows) con juegos de instalación.
            </p></li><li><p>
              O bien conexión a Internet o una Intranet con una tarjeta
              de red (el disco de instalación NO soporta PPP ni SLIP) y
              un espejo del servidor FTP o HTTP que se pueda acceder
              rápidamente desde su computador.
            </p></li></ul></div><p>
          Aunque es posible realizar la descarga de los medios de
          instalación recomendamos donar para apoyar los proyectos
          OpenBSD y adJ. La estructura del CD oficial de OpenBSD tiene
          derechos de reproducción restrictivos —sólo la estructura, las
          fuentes son de libre redistribución en su mayoría cubiertas
          por la licencia BSD. Por esto en caso de comprar CDs oficiales
          cómprelos sólo a los desarrolladores o a redistribuidores
          autorizados. En el caso de OpenBSD ver
          <a href="http://www.openbsd.org" target="_top">http://www.openbsd.org</a>
          y en el caso de adJ ver
          <a href="https://aprendiendo.pasosdeJesus.org" target="_top">https://aprendiendo.pasosdeJesus.org</a>.
        </p></li><li><p>
          Contar con hardware soportado. La mayoría de componentes
          típicos son soportados, aunque hay excepciones (especialmente
          hay dificultad con varias tarjetas de red inalámbrica) por lo
          que antes de comprar se recomienda consultar la lista completa
          de los dispositivos para procesadores amd64 que son soportados
          en:
          <a href="http://www.openbsd.org/amd64.html" target="_top">http://www.openbsd.org/amd64.html</a>.
        </p></li><li><p>
          Una partición primaria de al menos 13GB en un disco duro, Si
          planea comprar un computador con otro sistema operativo puede
          solicitarle al vendedor que le deje disponible una partición
          con estas características. Durante la instalación podrá
          asignar a esta partición el tipo OpenBSD (A6), podrá dividirla
          en etiquetas que son como subparticiones lógicas sólo visibles
          en OpenBSD (e.g para <code class="literal">/</code>,
          <code class="literal">/home</code> y <code class="literal">/var</code>) sobre cada
          una de las cuales podrá emplear el sistema de archivos de
          OpenBSD (FFS2 - Enhanced Fast File System o
          <code class="literal">ufs</code> en terminología Linux). También podrá
          montar particiones de otros sistemas operativos, por ejemplo
          <code class="literal">ext2</code> está bien soportado, o tener un
          sistema dual (ver <a href="duales.html" title="8. Instalaciones duales">Sección 8, “Instalaciones duales”</a>).
        </p><p>
          Si en su computador no tiene una partición disponible, puede
          intentar cambiar el tamaño de una existente para liberar
          espacio y crear una nueva (sacando copia de respaldo antes de
          estas operaciones). Si una de las particiones tiene sistema
          FAT o FAT32 puede usar <code class="literal">fips</code>. Si la
          partición que desea redimensionar tiene formato ext2fs (Linux)
          puede usar <code class="literal">parted</code> o
          <code class="literal">resize2fs</code>. En el caso de particiones NTFS
          (Windows recientes) puede usar <code class="literal">ntfsresize</code>
          desde un sistema Linux o arrancando con un disquete como
          <a href="http://paud.sourceforge.net/" target="_top">PAUD</a>, o bien
          si prefiere utilidades gráficas para reparticionar puede
          arrancar desde un pequeño CD de rescate como
          <a href="http://www.tux.org/pub/people/kent-robotti/looplinux/rip/" target="_top">RIP</a>
          o por ejemplo con un CD instalador de Ubuntu.
        </p></li><li><p>
          Leer la fe de erratas que incluye soluciones a eventuales
          problemas que tendrá durante la instalación o cuando concluya
          junto con soluciones:
          <a href="http://aprendiendo.pasosdejesus.org/?id=AdJ+7.6+-+Aprendiendo+de+Jesus+7.6" target="_top">http://aprendiendo.pasosdejesus.org/?id=AdJ+7.6+-+Aprendiendo+de+Jesus+7.6</a>
        </p></li></ol></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="ayudas-para-la-instalacion"></a>2.2. Ayudas para la instalación</h3></div></div></div><p>
      Es muy recomendable consultar
      <a href="http://www.openbsd.org/faq/faq4.html#4.1" target="_top">guía de
      instalación de OpenBSD</a>.
    </p><p>
      Si tiene la USB o el DVD oficial, configure su UEFI para que
      arranque por este y reinicie<sup>[<a name="id120" href="#ftn.id120">4</a>]</sup>.
    </p><p>
      Recuerde que si usará el DVD debe dejar su UEFI en modo CSM o
      Legacy. Tenga en cuenta que aún con USB de arranque el modo UEFI
      de algunos computadores no permite el arranque de OpenBSD/adJ en
      modo seguro – Secure Boot (ver por ejemplo
      <a href="https://dhobsd.defensor.info/instalar-adj-6-8b1-en-un-portatil-lenovo-e490.html" target="_top">https://dhobsd.defensor.info/instalar-adj-6-8b1-en-un-portatil-lenovo-e490.html</a>)
      en tal caso puede deshabilitar ese modo desde la configuración
      UEFI (puede intentar rehabilitarlo después de que este operando su
      OpenBSD/adJ siguiendo las instrucciones de
      <a href="http://daemonforums.org/showthread.php?t=9559" target="_top">http://daemonforums.org/showthread.php?t=9559</a>).
      También podría encontrar UEFIs que no permiten el arranque de
      OpenBSD/adJ desde USB (por ejemplo si está virtualizando con QEMU
      y el UEFI OVMF o como se reporta con algunos computadores en
      <a href="https://marc.info/?l=openbsd-misc&amp;m=159039904132502&amp;w=2" target="_top">https://marc.info/?l=openbsd-misc&amp;m=159039904132502&amp;w=2</a>)
      y en tales casos configure el UEFI en modo CSM o Legacy (esto será
      posible siempre que no haya otros sistemas operativos ya
      instalados que tengan modo UEFI).
    </p><p>
      La USB contiene un sistema OpenBSD mínimo que detectará
      automáticamente el hardware y lo guiará en el proceso de
      instalación. Si había creado con anterioridad la partición
      primaria para OpenBSD seguramente no tendrá inconveniente en esta
      instalación, basta que tenga en cuenta algunas diferencias entre
      Linux y OpenBSD:
    </p><p>
      Nombres y manejo de dispositivos
    </p><p>
      : Dispositivo Linux OpenBSD —————————- —————————————————————–
      ——————————————————————————- Disco IDE 1 maestro
      <code class="literal">/dev/hda</code> <code class="literal">/dev/wd0c</code> o en modo
      crudo <code class="literal">/dev/rwd0c</code> Disco SCSI
      <code class="literal">/dev/sda</code> <code class="literal">/dev/sd0c</code> o en modo
      crudo <code class="literal">/dev/rsd0c</code> Mouse
      <code class="literal">/dev/psaux</code> o <code class="literal">/dev/ttyS0</code>,
      <code class="literal">/dev/ttyS1</code> … <code class="literal">/dev/wsmouse</code> si
      es PS/2. Si es serial uno como <code class="literal">/dev/tty00</code> o
      <code class="literal">/dev/tty01</code>. Teclado <code class="literal">/dev/kbd</code>
      <code class="literal">/dev/wskbd</code> Primera unidad de disquete
      <code class="literal">/dev/fd0</code> <code class="literal">/dev/fd0c</code><sup>[<a name="id147" href="#ftn.id147">5</a>]</sup> Primera unidad de DVD Si es IDE algo como
      <code class="literal">/dev/hdb</code>, si es SCSI algo como
      <code class="literal">/dev/sda</code> <code class="literal">/dev/cd0c</code>
    </p><pre class="programlisting">
  : Nombres de dispositivos

En Linux los controladores están en módulos algunos de los cuales
deben configurarse con herramientas externas al kernel o
manualmente. En OpenBSD los controladores están integrados en el
kernel y normalmente detectan los dispositivos y se configuran
automáticamente. Si durante el arranque del disquete o del sistema
algún dispositivo soportado no logra ser detectado o configurado
puede emplear `boot -c` en el prompt de arranque para entrar a un
editor de las variables de configuración del kernel y ajustar
manualmente los recursos para el dispositivo.
</pre><div class="variablelist"><dl><dt><span class="term">
          Sistema básico y portes
        </span></dt><dd><p>
            Notará que la instalación es muy corta porque sólo se
            instala un sistema básico, que consta del kernel, órdenes
            básicas (de <code class="literal">/bin</code> y
            <code class="literal">/sbin</code> y <code class="literal">/usr/lib</code>),
            archivos de configuración (de <code class="literal">/etc</code>) y
            eventualmente, si los escoge al instalar, compilador,
            documentación y el servidor X-Window. Estos componentes
            conforman OpenBSD y han sido ampliamente auditados.
          </p><p>
            Después de instalar el sistema básico podrá instalar
            programas que han sido portados pero que no han pasado por
            un proceso de revisión tan intenso como el de los
            componentes básicos (ver
            <a href="paquetesyportes.html" title="4. Paquetes y portes">Paquetes y portes</a>).
          </p></dd><dt><span class="term">
          Particiones
        </span></dt><dd><p>
            OpenBSD puede dividir la partición que haya destinado para
            este sistema en “<span class="quote">subparticiones</span>”. Tenga en
            cuenta no transpasar los límites de la partición que reservó
            para OpenBSD al definir estas subparticiones con el programa
            <code class="literal">disklabel</code> (el mismo programa le ayudará a
            evitarlo). Los componentes básicos del sistema estarán
            especialmente en <code class="literal">/usr</code>, mientras que los
            paquetes emplearán <code class="literal">/usr/local</code>
          </p><p>
            Para un sistema de escritorio puede bastar dividir el
            espacio de su partición para OpenBSD en:
            <code class="literal">/</code> (al menos con 3G o si desea instalar
            los paquetes incluidos en el instalador y para compilar
            fuentes al menos con 50G), <code class="literal">/home</code> (con
            tanto espacio como desee para los usuarios) y
            <code class="literal">/var</code> (al menos con 1.2G si planea sacar
            respaldos de imágenes cifradas en CD o de 8G si planea
            sacarlas en DVD).
          </p></dd><dt><span class="term">
          Interprete de órdenes
        </span></dt><dd><p>
            Por defecto emplea <code class="literal">ksh</code> que es muy
            parecido a <code class="literal">bash</code>. Hay también un paquete
            de <code class="literal">bash</code> que podría instalar después de
            tener en operación el sistema básico.
          </p></dd><dt><span class="term">
          Herramientas UNIX
        </span></dt><dd><p>
            Notará también que otros programas (como
            <code class="literal">sed</code>, <code class="literal">awk</code>,
            <code class="literal">tar</code> y <code class="literal">make</code>) tienden a
            conformar el estándar POSIX pero no algunas extensiones
            comunes en sistemas Linux.
          </p></dd></dl></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="instalacion-y-configuracion-del-sistema-base"></a>2.3. Instalación y configuración del sistema base</h3></div></div></div><p>
      Arranque por el medio de instalación, su prompt será algo como
    </p><pre class="programlisting">
    boot&gt;
    
</pre><p>
      Si no arranca de inmediato el medio de instalación intente con
    </p><pre class="programlisting">
    boot&gt; boot bsd.rd
</pre><p>
      Una vez pueda iniciar un medio con un instalador, el sistema
      reconocerá las partes de su computador y esperará algunas
      respuestas de su parte, como si desea instalar, actualizar o
      iniciar un intérprete de órdenes para rescatar un sistema:
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala1.png"></span>
    </p><p>
      También podrá elegir distribución del teclado, por ejemplo el
      teclado típico con “<span class="quote">ñ</span>” y junto a esta un
      “<span class="quote">{</span>” corresponde a “<span class="quote">es</span>”. El instalador a
      continuación le permitirá configurar dispositivo de red que usará,
      clave para la cuenta root y detalles para el inicio del sistema
      entre los cuales es importante que confirme el uso de
      <code class="literal">xenodm</code>, la zona horaria (por defecto
      <code class="literal">America/Bogota</code>) y que cree una cuenta del
      sistema (en este ejemplo servidor) que posteriormente podrá
      configurar como cuenta de usuario administrador
      (<code class="literal">sshd</code> es un servicio que permite operación
      remota con ssh, <code class="literal">ntpd</code> permite sincronizar reloj
      con servidores para esto, X-Window es el entorno gráfico,
      <code class="literal">xenodm</code> es el programa que tras iniciar el
      entorno gráfico le permite autenticarse).
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala2.png"></span>
    </p><p>
      En las capturas de pantalla de ejemplo hay un sólo disco duro que
      se usará completo para OpenBSD, es decir tendrá una sola partición
      del BIOS que abarca todo el disco. De no usarse completo el
      instalador ingresará al programa <code class="literal">fdisk</code> que le
      permitirá especificar la partición del BIOS que destinará para
      OpenBSD (en <code class="literal">fdisk</code> la orden “<span class="quote">h</span>” le
      presentará una breve ayuda).
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala3.png"></span>
    </p><p>
      Tras definir el área del disco dedicada a OpenBSD podrá definir
      etiquetas o subparticiones para el área de OpenBSD con el programa
      <code class="literal">disklabel</code>. Aunque hay un modo de
      autolocalización de las subparticiones se recomienda que cree su
      propio esquema de subparticiones dejando al menos 10GB para la
      partición donde estará <code class="literal">/usr/local</code> y al menos
      1.2GB para <code class="literal">/var</code>. La orden “<span class="quote">h</span>” en
      <code class="literal">disklabel</code> presenta una breve ayuda. En el
      ejemplo siguiente se crean 4 subparticiones, la primera
      (<code class="literal">a</code>) siempre debe ser para el sistema raíz (/),
      la segunda (<code class="literal">b</code>) siempre debe ser área de
      intercambio o swap (es indispensable tenerla o podrá tener
      problemas de memoria posteriormente con algunas aplicaciones), la
      partición <code class="literal">c</code> representa la partición del BIOS
      completa y no debe tocarse, la tercera (<code class="literal">d</code>)
      corresponderá a <code class="literal">/home</code> y la cuarta
      (<code class="literal">e</code>) a <code class="literal">/var</code><sup>[<a name="id241" href="#ftn.id241">6</a>]</sup>. Note que con este esquema los programas y sus datos
      estáticos (típicos de los directorios <code class="literal">/bin</code>,
      <code class="literal">/sbin</code> y <code class="literal">/usr</code> quedarán en la
      subpartición <code class="literal">a</code>. Los datos de usuario
      típicamente en <code class="literal">/home</code> quedarán en la
      subpartición <code class="literal">d</code>, y los datos variables de los
      programas (e.g páginas web, bases de datos, bitácoras) típicos de
      <code class="literal">/var</code> quedarán en la subpartición
      <code class="literal">e</code>.
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala4.png"></span>
    </p><p>
      Note que de cada subpartición debe especificar desplazamiento (i.e
      sector en el que comienza) y tamaño (i.e cantidad de sectores que
      ocupa). Tenga en cuenta que un sector es de 512bytes, así que
      aproximadamente 2’000.000 de sectores corresponden a 1GB. En el
      ejemplo anterior / es de aproximadamente 10GB, la partición de
      intercambio es de 500MB, /home de 1GB y /var aproximadamente de
      2.1GB.
    </p><p>
      Después de elegir subparticiones el instalador formateará las
      subparticiones. Tras esto podrá especificar la ruta donde están
      los juegos de instalación (en el caso de la distribución
      Aprendiendo de Jesús es <code class="literal">/</code>) y elegir los que
      instalará.
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala5.png"></span>
    </p><p>
      La imagen anterior presenta la forma de ubicar los juegos de
      instalación cuando se usa CDROM.
    </p><p>
      En caso de usar USB el procedimiento es minimamente más largo,
      pues primero debe montar el sistema de archivos como se ve en le
      siguiente pantallazo.
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala5-usb.png"></span>
    </p><p>
      Note que a la pregunta de la ruta de instalación debe teclear
      <code class="literal">!sh</code> para entrar momentaneamente a un interprete
      de ordenes.
    </p><p>
      Desde ese interprete desconecte la USB y vuelvala a conectar y
      fijese en el dispositivo asignado (en el pantallazo de ejemplo es
      <code class="literal">sd1</code>).
    </p><p>
      Proceda a crear el dispositivo y a montar la subpartición
      <code class="literal">a</code> de dispositivo disco en
      <code class="literal">/mnt2</code> (no vaya a emplear
      <code class="literal">/mnt</code> porque esa es la ruta donde el instalador
      monta el disco donde hará la instalación):
    </p><pre class="programlisting">
cd /dev
sh MAKEDEV sd1
mount /dev/sd1a /mnt2/
</pre><p>
      Si lo anterior no le presento problemas al ejecutar
      <code class="literal">mount</code> debe ver algo como en el pantallazo. Y
      podrá volver al instalador con <code class="literal">exit</code> elegir
      <code class="literal">disco</code> como medio de instalación, indicando que
      ya está montada la partición y que su ubicacíon es
      <code class="literal">/mnt2/</code>
    </p><p>
      Podrá elegir entre:
    </p><div class="variablelist"><dl><dt><span class="term">
          bsd
        </span></dt><dd><p>
            Se trata del kernel genérico ya compilado para su plataforma
          </p></dd><dt><span class="term">
          bsd.mp
        </span></dt><dd><p>
            El kernel con soporte para múltiples procesadores (SMP).
          </p></dd><dt><span class="term">
          bsd.rd
        </span></dt><dd><p>
            El kernel pero que no usa dispositivos de almacenamiento
            sino un disco virtual en RAM (útil por ejemplo para hacer
            actualizaciones).
          </p></dd><dt><span class="term">
          base76
        </span></dt><dd><p>
            Que es indispensable, porque además de la jerarquía de
            directorios incluye: los programas de los directorios
            <code class="literal">/bin</code>, <code class="literal">/usr/bin</code>,
            <code class="literal">/sbin</code>, <code class="literal">/usr/libexec</code> y
            <code class="literal">/usr/sbin</code>; las librerías de
            <code class="literal">/usr/lib</code>, <code class="literal">/usr/libdata</code>
            ; información de <code class="literal">/usr/share</code> y de
            <code class="literal">/var</code>. Entre los programas y servicios
            auditados que incluye están: herramientas estándar de Unix,
            servidor web Apache, OpenSSH, NIS, CVS, sendmail, NTP, IPv6,
            autenticación con Kerberos, NFS, NAT, AMD, AFS, perl y
            algunas herramientas de desarrollo.
          </p></dd><dt><span class="term">
          etc76
        </span></dt><dd><p>
            También indispensable en sistemas que se instalan por
            primera vez (aunque no necesariamente si se hace
            actualización). Incluye los archivos de configuración del
            directorio <code class="literal">/etc</code> e información
            complementaria de <code class="literal">/var</code>.
          </p></dd><dt><span class="term">
          comp76
        </span></dt><dd><p>
            Que incluye herramientas de desarrollo para Fortran, C y
            C++. Las librerías que estas requieren y la documentación de
            las llamadas al sistema y de las librerías.
          </p></dd><dt><span class="term">
          man76
        </span></dt><dd><p>
            Que incluye documentación HTML, info y man de los programas
            y librerías de base76.
          </p></dd><dt><span class="term">
          game76
        </span></dt><dd><p>
            Algunos juegos que se instalan en
            <code class="literal">/usr/games</code>
          </p></dd><dt><span class="term">
          misc76
        </span></dt><dd><p>
            Que incluye información del directorio
            <code class="literal">/usr/share</code> como diccionarios y
            documentación complementaria.
          </p></dd><dt><span class="term">
          xbase76
        </span></dt><dd><p>
            Programas básicos de X-Window
            (<code class="literal">/usr/X11R6/bin</code>), librerías
            (<code class="literal">/usr/X11R6/lib</code>) y su documentación
            (<code class="literal">/usr/X11R6/man</code>).
          </p></dd><dt><span class="term">
          xfont76
        </span></dt><dd><p>
            Tipos de letra para X-Window
            (<code class="literal">/usr/X11R6/lib/X11/fonts</code>), para diversas
            codificaciones e idiomas, en resoluciones 100ppp y 75ppp.
          </p></dd><dt><span class="term">
          xserv76
        </span></dt><dd><p>
            Servidores X-Window para diversas tarjetas de video,
            librerías para soportar fuentes y documentación.
          </p></dd><dt><span class="term">
          xshare76
        </span></dt><dd><p>
            Encabezados y documentación complementaria de X-Window
          </p></dd><dt><span class="term">
          site76
        </span></dt><dd><p>
            Requerido para continuar la instalación y configuración de
            Aprendiendo de Jesús. En particular archivo de órdenes
            <code class="literal">/usr/local/adJ/inst-adJ.sh</code> que deberá
            ejecutar como usuario administrador cuando haya reiniciado.
          </p></dd></dl></div><p>
      la instalación de los componentes indispensables
      (base76 y etc76) requiere cerca
      de 100MB, y la instalación de todos requiere alrededor de 300MB.
    </p><p>
      Una vez se instalen el kernel genérico (<code class="literal">/bsd</code>) y
      los componentes que eligió el instalador preparará el directorio
      <code class="literal">/dev</code> de dispositivos y cambiará la partición de
      OpenBSD para que pueda arrancar el sistema en caso de que sea la
      partición activa<sup>[<a name="id362" href="#ftn.id362">7</a>]</sup>. Puede entonces apagar con la orden
      <code class="literal">halt -p</code>, retirar el CD y volver a iniciar para
      entrar al sistema instalado. Si tienes problemas para ingresar a
      OpenBSD puede arrancar con el CD de instalación y cuando este
      comenzando a cargar expulsarlo para quedar en la linea de espera:
    </p><pre class="programlisting">
    boot&gt;
</pre><p>
      En la que puede teclear <code class="literal">boot hd0a:bsd</code>
    </p><p>
      Si en su computador usa otro sistema operativo, ejecute el
      programa de configuración de algún administrador de arranque para
      asegurarse de permitir elegir OpenBSD o el otro o los otros
      sistemas que tenga (e.g GRUB o LILO si también usa Linux ver
      <a href="duales.html#con-linux" title="8.1. Dual con Linux">Sección 8.1, “Dual con Linux”</a>,
      <a href="http://www.ranish.com/part/xosl.htm" target="_top">XOSL</a> si
      usa Windows 95/98/ME. Si usa Windows NT o XP puede ser con el
      manejador de arranque de ese sistema ver
      <a href="duales.html#con-windows-xp" title="8.2. Dual con Windows XP o NT">Sección 8.2, “Dual con Windows XP o NT”</a>, si usa Windows Vista,
      7, 8, 8.1 y 10 puede ser con EasyBCD).
    </p><p>
      Una vez ingrese verá <code class="literal">xenodm</code> como se presenta a
      continuación (siempre y cuando haya elegido iniciarlo durante la
      instalación y mientras su tarjeta gráfico y monitor sean
      autodetectados).
    </p><p>
      <span class="inlinemediaobject"><img src="img/instala6.png"></span>
    </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="instalacion-del-resto"></a>2.4. Instalación del resto de adJ</h3></div></div></div><p>
      Tras instalar el sistema base y reiniciar su computador, puede
      ingresar a la cuenta del usuario administrador que creó y puede
      completar la instalación ejecutando desde una terminal:
    </p><pre class="programlisting">
    /inst-adJ.sh
</pre><p>
      Note que la J es mayúscula (en sistemas tipo Unix los nombres de
      archivos y programas son sensibles a la capitalización).
    </p><p>
      Este procedimiento permite instalar y actualizar adJ, así que
      puede ejecutarlo cuantas veces lo requiera para completar la
      instalación o una actualización. El archivo de órdenes
      <code class="literal">/inst-adJ.sh</code> lo guiará en la instalación del
      resto del sistema con preguntas típicamente de si o no, como se
      presenta en las siguientes capturas de pantalla de ejemplo:
    </p><p>
      <span class="inlinemediaobject"><img src="img/insadJ1.png"></span>
    </p><p>
      <span class="inlinemediaobject"><img src="img/insadJ2.png"></span>
    </p><p>
      <span class="inlinemediaobject"><img src="img/insadJ3.png"></span>
    </p><p>
      adJ puede configurar por defecto 2 imágenes cifradas, una para
      almacenar bases de datos de PostgreSQL (directorio
      <code class="literal">/var/postgresql</code>) y otra para almacenar copias
      de respaldo de la base de datos y otros datos que usted requiera
      (directorio <code class="literal">/var/www/resbase</code>). Cada una de
      estas imágenes tienen asociadas claves para cifrar y descifrar,
      estas claves debe suministrarlas típicamente durante el arranque o
      posteriormente ejecutando:
    </p><pre class="programlisting">
    /etc/init.d/montaencpos
    /etc/init.d/montaencres
</pre><p>
      <span class="inlinemediaobject"><img src="img/insadJ4.png"></span>
    </p><p>
      <span class="inlinemediaobject"><img src="img/insadJ5.png"></span>
    </p><p>
      El servidor web nginx será configurado con SSL por lo que debe dar
      detalles para el certificado como se presenta en la siguiente
      captura de pantalla.
    </p><p>
      <span class="inlinemediaobject"><img src="img/insadJ6.png"></span>
    </p><p>
      <span class="inlinemediaobject"><img src="img/insadJ7.png"></span>
    </p><p>
      Después es recomendable que consulte
      <code class="literal">man afterboot</code> que incluye una lista de chequeo
      de cosas por hacer después de la instalación
      https://man.openbsd.org/afterboot.
    </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="inicio-del-sistema"></a>2.5. Inicio del sistema</h3></div></div></div><p>
      El arranque se realiza de acuerdo al archivo
      <code class="literal">/etc/rc</code> (que no debe modificarse), este archivo
      en particular lee variables definidas por el usuario en
      <code class="literal">/etc/rc.conf.local</code> donde puede especificar que
      servicios desea iniciar durante el arranque. Un servicio es un
      programa que se mantiene en operación mientras el computador está
      encendido, esperando conexiones o requerimientos de programas o de
      otros servicios para atenderlos, por ejemplo un servidor web es un
      servicio (que responde a requerimientos de páginas web en
      cualquier momento que un usuario las realice).
      <code class="literal">/etc/rc</code> también iniciará los servicios típicos
      del sistema y algunos proveídos por paquetes y después ejecutará
      <code class="literal">/etc/rc.local</code>.
    </p><p>
      En el archivo <code class="literal">/etc/rc.conf.local</code> pueden
      definirse variables asociadas a servicios (puede verse el listado
      de variables posibles para el sistema base en
      <code class="literal">/etc/rc.conf</code>), si el valor de una variable es
      <code class="literal">NO</code> el servicio relacionado no se activa,
      mientras que otro valor activa el servicio y es pasado como
      parámetro (si no se desean parámetros adicionales puede
      simplemente asignarse ““). Por ejemplo para iniciar XDM en cada
      arranque:
    </p><pre class="programlisting">
    xenodm_flags=""
</pre><p>
      Los servicios proveídos por paquetes que son iniciados se
      especifican en la variable <code class="literal">pkg_scripts</code>, que se
      define en el archivo <code class="literal">/etc/rc.conf.local</code>. Los
      servicios tanto del sistema base como de paquetes típicamente
      tiene un archivo en el directorio <code class="literal">/etc/rc.d</code>.
      Estos archivos de órdenes pueden ejecutarse con una de las
      siguientes opciones (llamadas acciones):
    </p><div class="variablelist"><dl><dt><span class="term">
          <code class="literal">start</code>
        </span></dt><dd><p>
            Para iniciar el servicio.
          </p></dd><dt><span class="term">
          <code class="literal">stop</code>
        </span></dt><dd><p>
            Para detener el servicio.
          </p></dd><dt><span class="term">
          <code class="literal">check</code>
        </span></dt><dd><p>
            Para examinar el estado del servicio. Si retorna 0 significa
            que el servicio está operando, 1 de lo contrario.
          </p></dd><dt><span class="term">
          <code class="literal">restart</code>
        </span></dt><dd><p>
            Detiene y vuelve a iniciar el servicio.
          </p></dd><dt><span class="term">
          <code class="literal">reload</code>
        </span></dt><dd><p>
            Envía una señal al servicio para que vuelva a cargar sus
            archivos de configuración sin necesidad de detenerlo y
            volverlo a iniciar.
          </p></dd></dl></div><p>
      Otra forma de manejar servicios y sus variables (especificadas en
      <code class="literal">/etc/rc.conf.local</code>) es con
      <code class="literal">rcctl.</code> Esta herramienta maneja cada servicio
      con 5 variables que indican como ejecutarlo: class (clase de login
      con la que inicia), flags (opciones para iniciarlo), status
      (estado habilitado o no), timeout (tiempo de espera para
      arranque), user (usuario que lo inicia).
    </p><p>
      Veamos ejemplos de su uso:
    </p><div class="variablelist"><dl><dt><span class="term">
          <code class="literal">doas rcctl enable cupsd</code>
        </span></dt><dd><p>
            Habilita un servicio disponible en
            <code class="literal">/etc/rc.d</code> de nombre
            <code class="literal">cupsd</code>. Alias de
            <code class="literal">doas rcctl set cupsd status on</code>
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl disable cupsd</code>
        </span></dt><dd><p>
            Deshabilita un servicio disponible en
            <code class="literal">/etc/rc.d</code> de nombre
            <code class="literal">cupsd</code>. Alias de
            <code class="literal">doas rcctl set cupsd status off</code>
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl -d restart cupsd</code>
        </span></dt><dd><p>
            Reinicia servicio cupsd presentado errores en la terminal si
            los hay, en lugar <code class="literal">restart</code> también pueden
            usarse las acciones explicadas antes para archivos de
            órdenes del directorio <code class="literal">/etc/rc.d</code>.
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl get cupsd</code>
        </span></dt><dd><p>
            Presenta las variables del servicio <code class="literal">cupsd</code>
            (también podría agregar una variable al final si desea ver
            sólo una).
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl getdef cupsd</code>
        </span></dt><dd><p>
            Presenta valor por omisión de las variables del servicio
            <code class="literal">cupsd</code> (también podría agregar el nombre
            de una variable al final si desea ver sólo una).
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl set cupsd flags "-c /etc/cupsd2.conf"</code>
        </span></dt><dd><p>
            Establece la variable <code class="literal">flags</code> de servicio
            cupsd en <code class="literal">-c /etc/cupsd2.conf</code> es decir
            opciones especiales para el arranque. La variable
            <code class="literal">status</code> es especial porque sólo permite
            los valores on y off para habilitar o deshabilitar el
            servicio respectivamente (agregándolo o quitándolo de
            pkg_scripts en <code class="literal">/etc/rc.conf.local</code>).
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl ls on</code>
        </span></dt><dd><p>
            Presenta los servicios que están habilitados. En lugar de on
            también puede usarse <code class="literal">all</code> (todos),
            <code class="literal">failed</code> (los que fallaron),
            <code class="literal">off</code> (deshabilitados),
            <code class="literal">started</code> (que están corriendo),
            <code class="literal">stopped</code> (detenidos).
          </p></dd><dt><span class="term">
          <code class="literal">doas rcctl order cupsd postgresql</code>
        </span></dt><dd><p>
            Pone primero los servicios <code class="literal">cupsd</code> y
            <code class="literal">postgresql</code> en
            <code class="literal">pkg_script</code> de forma que serán los
            primeros servicios en iniciar.
          </p></dd></dl></div><p>
      En adJ el archivo de órdenes <code class="literal">/etc/rc.local</code>
      además de poder contener acciones por realizar en el arranque,
      permite reiniciar servicios que se hayan detenido. Por esto tras
      detener un servicio (bien intencionalmente o por error) puede
      ejecutar este archivo de órdenes para reiniciarlo con:
    </p><pre class="programlisting">
    doas sh /etc/rc.local
</pre></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="configuracion-de-xorg"></a>2.6. Configuración de Xorg</h3></div></div></div><p>
      Si durante la instalación eligió usar X-Window y xenodm, e instaló
      los juegos de instalación de X-Window (i.e
      <code class="literal">xbase76</code>,
      <code class="literal">xfont76</code>,
      <code class="literal">xserv76</code>,
      <code class="literal">xshare76</code>), y si su tarjeta fue
      correctamente configurada, al arrancar iniciará en el ambiente
      gráfico.
    </p><p>
      Xorg puede también leer la configuración de su tarjeta de video,
      monitor, teclado y ratón del archivo
      <code class="literal">/etc/X11/xorg.conf</code>, por lo que este es el
      archivo que debe generar y configurar en caso de que la
      autodetección de Xorg no opere con su hardware.
    </p><p>
      Si no logra ingresar al modo gráfico revise la bitácora de errores
      del servidor X-Window con:
    </p><pre class="programlisting">
    doas less /var/log/Xorg.0.log
</pre><p>
      y edite el archivo de configuración, siguiendo las instrucciones
      de
    </p><pre class="programlisting">
    man xorg.conf
</pre><p>
      hasta lograr que opere, puede editar por ejemplo con:
    </p><pre class="programlisting">
    doas mg /etc/X11/xorg.conf
</pre><p>
      Una vez le funciona (entra a modo gráfico del cual puede salir con
      Ctrl-Alt-BackSpace) ejecutando
    </p><pre class="programlisting">
    doas xenodm
</pre><p>
      Si persisten sus dificultades, puede buscar en Internet una
      configuración correcta o solicitar el archivo de configuración a
      alguien que le funcione o enviar la bitácora
      <code class="literal">/var/log/Xorg.0.log</code> a un grupo de usuarios.
      Unos cambios que suelen funcionar son:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Si en la bitácora <code class="literal">/var/log/Xorg.0.log</code> se
          recomienda, agregar
        </p><pre class="programlisting">
    machdep.allowaperture=2
</pre><p>
          o bien
        </p><pre class="programlisting">
    machdep.allowaperture=1
</pre><p>
          hágalo en <code class="literal">/etc/sysctl.conf</code>, según lo
          recomendado en la bitácora.
        </p><p>
          Elegir un monitor y editar el archivo para quitar el
          comentario que deja en la frecuencia horizontal –es decir el
          símbolo # al comienzo de la línea.
        </p></li><li><p>
          Escoger <code class="literal">vesa</code> como controlador y tarjeta de
          video.
        </p></li><li><p>
          En casos extremos puede comenzar con un archivo de
          configuración típico como el que se presenta a continuación
          (para teclado en español, tarjeta de video que soporta VESA, y
          un monitor que no requiere especificar rangos):
        </p></li></ol></div><pre class="programlisting">
    Section "ServerLayout"
        Identifier     "X.org Configured"
        Screen      0  "Screen0" 0 0
        InputDevice    "Mouse0" "CorePointer"
        InputDevice    "Keyboard0" "CoreKeyboard"
    EndSection

    Section "Files"
    #   RgbPath      "/usr/X11R6/share/X11/rgb"
    #   ModulePath   "/usr/X11R6/lib/modules"
        FontPath     "/usr/X11R6/lib/X11/fonts/misc/"
        FontPath     "/usr/X11R6/lib/X11/fonts/TTF/"
        FontPath     "/usr/X11R6/lib/X11/fonts/Type1/"
        FontPath     "/usr/X11R6/lib/X11/fonts/CID/"
        FontPath     "/usr/X11R6/lib/X11/fonts/75dpi/"
        FontPath     "/usr/X11R6/lib/X11/fonts/100dpi/"
        FontPath     "/usr/local/lib/X11/fonts/local/"
        FontPath     "/usr/local/lib/X11/fonts/Speedo/"
        FontPath     "/usr/local/lib/X11/fonts/TrueType/"
        FontPath     "/usr/local/lib/X11/fonts/freefont/"
    EndSection

    Section "Module"
        Load  "dbe"
        Load  "freetype"
    EndSection

    Section "InputDevice"
        Identifier  "Keyboard0"
        Driver      "kbd"
        Option      "XkbLayout" "es"
        # Si el teclado fuera latinoamericano en vez de "es" usar "latam"
        Option      "XkbModel" "pc105"
    EndSection

    Section "InputDevice"
        Identifier  "Mouse0"
        Driver      "mouse"
        Option      "Protocol" "wsmouse"
        Option      "Device" "/dev/wsmouse"
        # Si es serial usar protocolo "Microsoft" y dispositivo "/dev/tty00"
        Option      "ZAxisMapping" "4 5"
    EndSection

    Section "Monitor"
    #       HorizSync    30.0 - 70.0
    #       VertRefresh  50.0 - 90.0
    # Puede funcionar quitar el comentario en HorizSync (vea /var/log/Xorg.0.log)
        Identifier   "Monitor0"
        Option      "DPMS"
    EndSection

    Section "Device"
        Identifier  "Card0"
        Driver      "vesa
    #   BusID       "PCI:0:1:0"
    EndSection

    Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
        DefaultDepth     16
        SubSection "Display"
            Viewport   0 0
            Depth     1
        EndSubSection
        SubSection "Display"
            Viewport   0 0
            Depth     4
        EndSubSection
        SubSection "Display"
            Viewport   0 0
            Depth     8
        EndSubSection
        SubSection "Display"
            Viewport   0 0
            Depth     15
        EndSubSection
        SubSection "Display"
            Viewport   0 0
            Depth     16
            Modes    "1024x768"
        EndSubSection
        SubSection "Display"
            Viewport   0 0
            Depth     24
        EndSubSection
    EndSection
</pre><p>
      En este ejemplo mire que en la sección del monitor, la línea
      <code class="literal">HorizSync</code> está comentada (el símbolo # al
      comienzo de la línea) por lo que no se usa ese parámetro de
      configuración. De funcionar en su caso este archivo iniciara en
      1024 x 768 con colores de 16 bits, porque la profundidad de color
      por defecto especificada es esa
      (<code class="literal">DefaultDepth 16</code>) y el primer modo indica esa
      resolución (<code class="literal">Modes "1024x768"</code>).
    </p><p>
      Algunas tarjetas antiguas no son soportadas por Xorg pero si por
      el servidor XFree86 3.3.6, que podrá encontrar en versiones de
      OpenBSD anteriores a 3.7. Este último emplea normalmente el
      archivo de configuración <code class="literal">/etc/XF86Config</code> que
      puede generarse con ayuda de <code class="literal">XF86Setup</code> o bien
      en modo texto con <code class="literal">xf86config3</code>.
    </p><p>
      Para la configuración del ratón tenga en cuenta que los ratones
      PS/2 y USB se usan con el protocolo <code class="literal">wsmouse</code>,
      dispositivo <code class="literal">/dev/wsmouse</code>, mientas que diversos
      ratones seriales emplean el protocolo <code class="literal">Microsoft</code>
      y uno de los dispositivos seriales <code class="literal">/dev/tty00</code> o
      <code class="literal">/dev/tty01</code>.
    </p><p>
      Una vez logre configurar Xorg puede activar el administrador de
      vistas XDM permanentemente agregando la siguiente línea al archivo
      <code class="literal">/etc/rc.conf.local</code> (créelo si no existe):
    </p><pre class="programlisting">
    xenodm_flags=""
</pre><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="xenodm-y-xrandr"></a>2.6.1. xenodm y xrandr</h4></div></div></div><p>
        Como se indica en el manual de <code class="literal">xenodm</code>, este
        maneja la colección de pantallas en su computador, para esperar
        que un usuario se autentique con su nombre de usuario y clave
        para iniciar una “<span class="quote">sesión</span>” i.e un proceso como
        fluxbox. Cuando la sesión/poceso termina xenodm reiniciar el
        servidor X.
      </p><p>
        La configuración por omisión está en
        <code class="literal">/etc/X11/xenodm/xenodm-config</code> que ejecuta
        <code class="literal">/etc/X11/xenodm/Xsetup_0</code> tras la
        inicialización del servidor y que presenta xlogin, el dialogo
        que pide usuario y clave. Cuando un usuario se autentica ejecuta
        <code class="literal">/etc/X11/xenodm/Xstartup</code> como root y después
        <code class="literal">/etc/X11/xenodm/Xsession</code> como el usuario.
      </p><p>
        xrandr le permite manejar los diversos monitores que pueda tener
        conectados a su CPU, al ejecutarlo sin argumentos verá los
        puertos para monitores conocidos por el sistema operativo y las
        resoluciones que cada monitor conectado soporta, por ejemplo en
        un portátil con una monitor HDMI conectado la salida es algo
        como:
      </p><pre class="programlisting">
% xrandr
Screen 0: minimum 320 x 200, current 1366 x 768, maximum 16384 x 16384
eDP-1 connected primary 1366x768+0+0 (normal left inverted right x axis y axis)
309mm x 173mm
   1366x768      60.00*+
   1280x720      60.00    59.99    59.86    59.74
   1024x768      60.04    60.00
   960x720       60.00
   928x696       60.05
   896x672       60.01
   1024x576      59.95    59.96    59.90    59.82
   960x600       59.93    60.00
   960x540       59.96    59.99    59.63    59.82
   800x600       60.00    60.32    56.25
   840x525       60.01    59.88
   864x486       59.92    59.57
   700x525       59.98
   800x450       59.95    59.82
   640x512       60.02
   700x450       59.96    59.88
   640x480       60.00    59.94
   720x405       59.51    58.99
   684x384       59.88    59.85
   640x400       59.88    59.98
   640x360       59.86    59.83    59.84    59.32
   512x384       60.00
   512x288       60.00    59.92
   480x270       59.63    59.82
   400x300       60.32    56.34
   432x243       59.92    59.57
   320x240       60.05
   360x202       59.51    59.13
   320x180       59.84    59.32
HDMI-1 connected (normal left inverted right x axis y axis)
   1920x1080     60.00 +  50.00    59.94
   1920x1080i    60.00    50.00    59.94
   1600x900      60.00
   1280x1024     75.02    60.02
   1152x864      75.00
   1280x720      75.02    60.00    50.00    59.94
   1024x768      75.03    60.00
   800x600       75.00    60.32
   720x576       50.00
   720x480       60.00    59.94
   640x480       75.00    60.00    59.94
   720x400       70.08
DP-1 disconnected (normal left inverted right x axis y axis)
HDMI-2 disconnected (normal left inverted right x axis y axis)
</pre><p>
        Como el manual de <code class="literal">xrandr</code> indica, los modos
        preferidos tienen un <code class="literal">+</code> y el modo actual tiene
        un <code class="literal">*</code>.
      </p><p>
        Con xrandr puede establecer el tamaño, orientación y/o reflexión
        para las salidas de una pantalla y puede establecer el tamaño de
        la pantalla. Por ejemplo en el portatil de ejemplo puede
        especificar usar el monitor conectado al puerto HDMI como
        principal con:
      </p><pre class="programlisting">
xrandr --output HDMI-1 --auto --output eDP-1 --auto --same-as HDMI-1
</pre><p>
        Si necesita que esta configuración se aplique antes de xenodm
        puede agregar esa línea en el archivo
        <code class="literal">/etc/X11/xenodm/Xsetup_0.</code>
      </p><p>
        Puede experimentar las posibilidades de xrandr graficamente por
        ejemplo instalando y ejecutando le paquete
        <code class="literal">arandr.</code> Puede consultar más de
        <code class="literal">xrandr</code> y soluciones a diversos tipos de
        problemas con monitores en
        <a href="https://wiki.archlinux.org/title/xrandr" target="_top">https://wiki.archlinux.org/title/xrandr</a>
      </p></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="tipos-de-letra"></a>2.7. Tipos de letra</h3></div></div></div><p>
      Los tipos de letra del sistema base para X-Window se mantienen en
      <code class="literal">/usr/X11R6/lib/X11/fonts</code> en diversos formatos
      (por ejemplo PCF, SNF, BDF, TTF). Y los paquetes suelen dejar
      tipos de letra en <code class="literal">/usr/local/share/fonts/</code>
    </p><p>
      Podrá editar diversos formatos y crear nuevos tipos de letra con
      el excelente editor <code class="literal">fontforge</code>.
    </p><p>
      Una secuencia típica para copiar una fuente PCF (tomada de la
      documentación de Bochs 2.0.2) es:
    </p><pre class="programlisting">
    cp font/vga.pcf /usr/X11R6/lib/X11/fonts/misc
    compress /usr/X11R6/lib/X11/fonts/misc/vga.pcf
    mkfontdir /usr/X11R6/lib/X11/fonts/misc
    xset fp rehash
</pre><p>
      Para emplear un nuevo tipo de letra TrueType basta:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Ubiquela en una carpeta de
          <code class="literal">/usr/local/share/fonts/</code>. Por ejemplo
          <code class="literal">/usr/local/share/fonts/MisTTF/</code>
        </p></li><li><p>
          Genere archivos <code class="literal">fonts.dir</code> y
          <code class="literal">scale</code> en el directorio donde está la
          fuente:
        </p><pre class="programlisting">
    cd /usr/local/share/fonts/MisTTF
    /usr/X11R6/bin/mkfontscale
    /usr/X11R6/bin/mkfontdir
</pre></li><li><p>
          Aplicar cambios a sesión actual
        </p><pre class="programlisting">
    xset fp rehash
</pre></li><li><p>
          Regenerar cache de tipos de letra, ejecutando como usuario
          <code class="literal">root</code>:
        </p><pre class="programlisting">
    cd /usr/local/lib/X11/fonts/MisTTF
    /usr/X11R6/bin/fc-cache -v
    /usr/X11R6/bin/fc-cache -v
</pre></li></ol></div><p>
      Si eventualmente el nuevo tipo no queda en los archivos generados
      (<code class="literal">fonts.dir</code>, <code class="literal">fonts.scale</code>)
      edítelos y agréguelo (el primer número en estos archivos es la
      cantidad de tipos por lo que debe incrementarlo).
    </p><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="lecturas-xorg"></a>2.7.1. Lecturas recomendadas y referencias</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Página man de <code class="literal">xorg.conf</code>
          </p></li><li><p>
            Hay detalles sobre la configuración de Xorg en OpenBSD en el
            archivo <code class="literal">/usr/X11R6/README</code>
          </p></li><li><p>
            El servidor de X-Window incluido en OpenBSD
            7.6 soporta fuentes anti-aliasing y True Type.
            Puede consultar el procedimiento para instalar fuentes True
            Type en
            <a href="http://www.openbsd.org/faq/truetype.html" target="_top">http://www.openbsd.org/faq/truetype.html</a>.
          </p></li></ul></div></div></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p xmlns="http://www.w3.org/TR/xhtml1/transitional"><sup>[<a name="ftn.id120" href="#id120">4</a>] </sup>
          El método de instalación por red PXE requiere que configure
          otro servidor con los servicios DHCP para asignarle dirección
          durante la instalación y TFTP para que pueda servirle el
          archivo de arranque <code xmlns="" class="literal">boot</code> y un kernel como
          <code xmlns="" class="literal">bsd</code>
        </p></div><div class="footnote"><p xmlns="http://www.w3.org/TR/xhtml1/transitional"><sup>[<a name="ftn.id147" href="#id147">5</a>] </sup>
          En discos, DVDs y disquetes las particiones se indican con a,
          b, d y letras que se usan como postfijo. El postfijo c
          representa el disco/DVD/disquete completo. Por ejemplo en el
          caso del primer disco IDE las particiones pueden ser:
          <code xmlns="" class="literal">/dev/wd0a</code>, <code xmlns="" class="literal">/dev/wd0b</code>,
          <code xmlns="" class="literal">/dev/wd0d</code> y así sucesivamente, mientras que
          <code xmlns="" class="literal">/dev/wd0c</code> representa el disco completo.
          Pueden verse las particiones precisas que se usan del primer
          disco IDE con <code xmlns="" class="literal">disklabel /dev/wd0c</code>
        </p></div><div class="footnote"><p xmlns="http://www.w3.org/TR/xhtml1/transitional"><sup>[<a name="ftn.id241" href="#id241">6</a>] </sup>
          Si el disco tiene otras particiones del BIOS para otros
          sistemas, estos se verán con otras etiquetas (típicamente i
          para la primera partición Windows, m para la primera partición
          Linux).
        </p></div><div class="footnote"><p xmlns="http://www.w3.org/TR/xhtml1/transitional"><sup>[<a name="ftn.id362" href="#id362">7</a>] </sup>
          Si no tiene un manejador de arranque, puede determinar cual de
          las 4 particiones primarias es la activa con el programa
          <code xmlns="" class="literal">fdisk</code>.
        </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="interprete_de_ordenes.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">La distribución Aprendiendo de Jesús de OpenBSD como Sistema de Escritorio </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 3. Interprete de órdenes</td></tr></table></div></body></html>
